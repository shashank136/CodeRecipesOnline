{% extends "layout.html" %}
{% block header %}
<header class="next">
	<a href="http://coderecipesonline.pythonanywhere.com" class="logo" title="CodeRecipesOnline"><span>Code Recipes Online</span></a>
	<div class="villain">
		<h1>Merge Sort</h1>
	</div>
</header>
{% endblock %}
{% block content %}
<br>
<h2>What is merge sort?</h2>
<p>Merge sort is an efficient algorithm.Many useful algorithms are recursive in structure: to solve a given problem, they call themselves recursively one or more times to deal with closely related subproblems. These algorithms typically follow a divide-and-conquer approach: they break the problem into several subproblems that are similar to the original problem but smaller in size, solve the subproblems recursively, and then combine these solutions to create a solution to the original problem.</p>
<img class="merge" src="{{url_for('static', filename='images/merge.png')}}">
<br>
<p>
	<h3>Other Example:</h3>
	<img src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Merge-sort-example-300px.gif" alt="Loading" border="1">
</p>
<br>
<h3>Python code for merge sort</h3>
<pre class="prettyprint linenums">
	class Merge_sort(object):
	"""
	Merge sort follows divide and conquer algorithm
	This class contains two methods merge and merge_sort
	time complexity of merge sort is O(nlogn)
	space complexity of merge sort is O(n)
	"""
	def merge(self,a,start,end,mid):
		b = a[start:mid+1] # first half of the list
		c = a[mid+1:end+1] # second half of the list
		n1 = len(b)
		n2 = len(c)
		i=0
		j=0
		k=start
		while(True):
			if i< n1 and j< n2:
				if b[i] < c[j]:
					a[k] = b[i]
					k += 1
					i += 1
				else:
					a[k] = c[j]
					k += 1
					j += 1
			else:
				if i < n1:
					a[k] = b[i]
					k += 1
					i += 1
				elif j < n2:
					a[k] = c[j]
					k += 1
					j += 1
				else:
					break

	def merge_sort(self,a,start,end):
		if start < end:
			mid = (start+end)//2
			self.merge_sort(a,start,mid)
			self.merge_sort(a,mid+1,end)
			self.merge(a,start,end,mid)

	def __init__(self):
		n = int(input("enter number of elements in list: "))
		b = []
		for i in range(n):
			b.append(int(input("enter number: ")))

		start = 0
		end = len(b)-1
		if start < end:
			self.merge_sort(b,start,end) # divide the list into smaller lists
		else:
			print(a[start])
		print("list after sorting: ",b)


	a = [5,2,4,7,1,3,2,6]
	print("list to be sorted: ",a)
	l = Merge_sort()
</pre>
<h3>java code for merge sort</h3>
<pre class="prettyprint linenums">
	import java.util.*;
	import java.io.*;

	public class merge_sort
	{

	    public static void merge(int a[], int start, int end, int mid)
	    {

	        int n1 = mid - start + 1;
	        int n2 = end - mid;
	        int i, j;

	        // create new arrays to store sub-arrays
	        int b[] = new int[n1];
	        int c[] = new int[n2];

	        for(i = 0; i < n1; i++)	// reading elements of first half into array b.
	        {
	            b[i] = a[start + i];
	        }

	        for(i = 0; i < n2;	i++)	// reading elements of second half into array c.
	        {
	            c[i] = a[mid + 1 + i];
	        }

	        i = 0;
	        j = 0;

	        int k = start;

	        while(true)
	        {
	            if(i < n1 &amp;&amp; j < n2)
	            {
	                if(b[i] < c[j])
	                {
	                    a[k] = b[i];
	                    k++;
	                    i++;
	                }
	                else
	                {
	                    a[k] = c[j];
	                    k++;
	                    j++;
	                }
	            }
	            else
	            {
	                if(i < n1)
	                {
	                    a[k] = b[i];
	                    k++;
	                    i++;

	                }
	                else if(j < n2)
	                {
	                    a[k] = c[j];
	                    k++;
	                    j++;
	                }
	                else
	                {
	                    break;
	                }
	            }
	        }
	    }

	    public static void mergeSort(int a[], int start, int end)
	    {
	        if(start < end)
	        {
	            int mid = (start + end) / 2;

	            mergeSort(a, start, mid);
	            mergeSort(a, mid + 1, end);
	            merge(a, start, end, mid);
	        }
	    }

	    public static void main(String[] args)
	    {
	        Scanner sc = new Scanner(System.in);
	        int size, start = 0, end = 0;
	        int i, flag = 1;
	        size = sc.nextInt(); // read the size of array
	        int a[] = new int[size];

	        for (i = 0; i < size; i++)
	        {
	            a[i] = sc.nextInt();
	        }

	        start = 0;
	        end =  size - 1;

	        if(start < end)
	        {
	            mergeSort(a, start, end);
	        }
	        else
	        {
	            System.out.println(a[start]);
	            flag = 0;
	        }

	        if(flag == 1)
	        {
	            for(i = 0; i < size; i++)
	            {
	                System.out.print(a[i] + " ");
	            }
	        }
	    }
	}
</pre>
<h3>C++ code for merge sort</h3>
<pre class="prettyprint linenums">
	#include<iostream>
	using namespace std;

	void merge(int a[], int start, int end, int mid) {
	  int n1 = mid - start + 1;
	  int n2 = end - mid;
	  int i, j;

	  // create new arrays to store sub-arrays
	  int b[n1];
	  int c[n2];

	  for (i = 0; i < n1; i++) // reading elements of first half into array b.
	  {
	    b[i] = a[start + i];
	  }

	  for (i = 0; i < n2; i++) // reading elements of second half into array c.
	  {
	    c[i] = a[mid + 1 + i];
	  }

	  i = 0;
	  j = 0;

	  int k = start;

	  while (true) {
	    if (i < n1 &amp;&amp; j < n2) {
	      if (b[i] < c[j]) {
	        a[k] = b[i];
	        k++;i++;
	      } else {
	        a[k] = c[j];
	        k++;j++;
	      }
	    } else {
	      if (i < n1) {
	        a[k] = b[i];
	        k++;i++;

	      } else if (j < n2) {
	        a[k] = c[j];
	        k++;j++;
	      } else {
	        break;
	      }
	    }
	  }
	}


	void mergeSort(int a[], int start, int end) {
	  if (start < end) {
	    int mid = (start + end) / 2;

	    mergeSort(a, start, mid);
	    mergeSort(a, mid + 1, end);
	    merge(a, start, end, mid);
	  }
	}

	int main() {
	  int i, size, start = 0, end = 0, flag = 1;
	  cin >> size;
	  int a[size];

	  for (i = 0; i < size; i++) {
	    cin >> a[i];
	  }

	  end = size - 1;
	  if (start < end) {
	    mergeSort(a, start, end);
	  } else {
	    cout << a[start];
	    flag = 0;
	  }

	  if (flag == 1) {
	    for (i = 0; i < size; i++) {
	      cout << a[i] << " ";
	    }
	  }
	}
</pre>
<h3>Code Virtualization</h3>
<iframe style=" width:100%; height:600px;" frameborder="1" src="http://pythontutor.com/iframe-embed.html#code=class%20Merge_sort%28object%29%3A%0A%20%20%20%20%22%22%22%0A%20%20%20%20Merge%20sort%20follows%20divide%20and%20conquer%20algorithm%0A%20%20%20%20This%20class%20contains%20two%20methods%20merge%20and%20merge_sort%0A%20%20%20%20time%20complexity%20of%20merge%20sort%20is%20O%28nlogn%29%0A%20%20%20%20space%20complexity%20of%20merge%20sort%20is%20O%28n%29%0A%20%20%20%20%22%22%22%0A%20%20%20%20def%20merge%28self,a,start,end,mid%29%3A%0A%20%20%20%20%20%20%20%20b%20%3D%20a%5Bstart%3Amid%2B1%5D%20%23%20first%20half%20of%20the%20list%0A%20%20%20%20%20%20%20%20c%20%3D%20a%5Bmid%2B1%3Aend%2B1%5D%20%23%20second%20half%20of%20the%20list%0A%20%20%20%20%20%20%20%20n1%20%3D%20len%28b%29%0A%20%20%20%20%20%20%20%20n2%20%3D%20len%28c%29%0A%20%20%20%20%20%20%20%20i%3D0%0A%20%20%20%20%20%20%20%20j%3D0%0A%20%20%20%20%20%20%20%20k%3Dstart%0A%20%20%20%20%20%20%20%20while%28True%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20i%3Cn1%20and%20j%3Cn2%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20b%5Bi%5D%20%3C%20c%5Bj%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20b%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20k%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20c%5Bj%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20k%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20i%20%3C%20n1%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20b%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20k%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elif%20j%20%3C%20n2%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20c%5Bj%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20k%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%0A%0A%20%20%20%20def%20merge_sort%28self,a,start,end%29%3A%0A%20%20%20%20%20%20%20%20if%20start%20%3C%20end%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20mid%20%3D%20%28start%2Bend%29//2%0A%20%20%20%20%20%20%20%20%20%20%20%20self.merge_sort%28a,start,mid%29%0A%20%20%20%20%20%20%20%20%20%20%20%20self.merge_sort%28a,mid%2B1,end%29%0A%20%20%20%20%20%20%20%20%20%20%20%20self.merge%28a,start,end,mid%29%0A%0A%20%20%20%20def%20__init__%28self%29%3A%0A%20%20%20%20%20%20%20%20n%20%3D%208%0A%20%20%20%20%20%20%20%20b%20%3D%20%5B5,2,4,7,1,3,2,6%5D%0A%20%20%20%20%20%20%20%20start%20%3D%200%0A%20%20%20%20%20%20%20%20end%20%3D%20len%28b%29-1%0A%20%20%20%20%20%20%20%20if%20start%20%3C%20end%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.merge_sort%28b,start,end%29%20%23%20divide%20the%20list%20into%20smaller%20lists%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%28a%5Bstart%5D%29%0A%20%20%20%20%20%20%20%20print%28%22list%20after%20sorting%3A%20%22,b%29%0A%0A%0Aa%20%3D%20%5B5,2,4,7,1,3,2,6%5D%0Aprint%28%22list%20to%20be%20sorted%3A%20%22,a%29%0Al%20%3D%20Merge_sort%28%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=309&heapPrimitives=false&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>
{% endblock %}